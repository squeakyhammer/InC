# 1. 개요
- 계측공학에 있어 측정 데이터가 얼마나 적정한지 그 품질이 확립될 필요가 있음.
- 이러한 품질을 확립하기 위한 기본적인 예시로, 측정된 데이터가 실제 값과 얼마나 격차가 있는지(오차)를 확인하는 과정이 필요.
- 혹은 이러한 측정오차가 항상 고정되어 나타나는지(bias error), 재 측정시 오차가 반복이 되는지(repeatability) 등을 통해 기본적인 측정의 품질을 어떻게 설정하는지를 확인하는 과정이 필요.
- 이를 위해서 이 장에서는 다음과 같은 개념에 대해 확인한다.
</br></br></br>

# 2. 오차(Error)
- 측정값과 참값의 차
- 오차의 종류는 3가지로 분류

## 2.1  Sysmetic Error(Bias Error)

- 반복 측정 시 <B>일정 방향과 크기</B>로 나타나는 오차 (정확도)
- Bias Error 의 경우, 교정(Calibration)을 통해 조정 가능. 상세하게는 다음과 같은 형태의 오차 존재
- Calibration Error : 교정 오차, 센서가 잘못된 기준값으로 교정됨. 가장 일반적인 bias error.
- zero offset error : 입력이 0일때 출력이 0이 아닌 경우 오차.
- Resolution Eror : 분해능의 한계로 생기는 오차. (resoultion 0.1인 기기에서 0.05 입력)
- Sensitivity Error : 센서의 출력변화가 입력 변화에 비례하지 않는 오차 (1V/1℃ 감도 센서에서 0.9V/1℃).
- Drift : 시간, 또는 온도의 변화에 따라 출력이 서서히 변화

## 2.2 Random error(Precision Error)

- 측정 시마다 <B>불규칙</B>하게 나타나는 오차. 주로 노이즈/환경요인에 의해 발생. (정밀도)
- Precision Error의 경우 교정으로 조정이 어려움. 적절한 센서의 선택과 필터링, 평균화 등을 통해 해결 필요
- Repeatability Error : 같은 장비와 조건에서 반복 측정 시 결과가 다름
- Reproducibility Error : 서로 다른 장비, 사용자, 환경에서 측정 시 결과가 다름
- Noise-Induced Error : 전기 잡음, 기계 진동, EMI등에 의한 오차
- Quantization Error : 디지털 센서에서 아날로그 입력을 디지털 근사화 시 발생하는 오차
          
## 2.3 Systemtic Error Or Precision Error

- bias 에러와 같이 패턴이 있으나 어떤 경우에는 random error와 같은 양상을 보이는 에러가 있을 수 있음. 다음과 같은 에러 존재.
- Hysterisys Error : 입력이 증가 하거나 감소 할 때, 같은 입력에 대해 출력이 다르게 나타나는 오차
  - 10kg/cm2 일 때 5V인 압력계가 올라갈 때는 5V였다가 내려갈 때는 10kg/cm2에서 4.95V
  - 일반적으로 방향성이 있고(패턴 있음) 반복 측정에서 재현이 가능하다는 점에서 Sysmetic error로 분류 (교정 가능)
  - 다만 비선형/비대칭/시간 의존성에 따라 반복 패턴이 나타나지 않는 경우 Precision Error로서 분류 (교정 불가)
   </br></br>

## 2.4 Total Error
- Total Error : Bias error + precision error


![fig2_error](https://github.com/user-attachments/assets/fb75cb9e-ccfc-43e0-98ba-eab1926e112c)
</br></br></br>

# 3. 정확도(Accuracy)

 - <B>실제 값과 계측기가 측정한 값이 얼마나 가까운지</B>를 나타내는 지표
 - 실제 온도가 100도인 경우 센서가 98도를 표시한다면, 센서의 정확도는 ± 2°C

## 3.1 표기 방식

### 3.1.1 %FS (Full Scale) 
- 전체 측정 범위 기준 오차 비율
- 예시 : 0~100 bar 압력 센서에서 ±1%FS 는 ±1 bar 오차

### 3.1.2 %RD (Reading) 
- 현재 측정값 기준 오차 비율
- 예시 : 50 bar 측정값에서 +-1%RD 는 ±0.5 bar

### 3.1.3 CLASS 등급
- 표준화된 등급 오차
- 예시 : RTD CLASS A : ± 0.15 + 0.002x, 100도를 측정 시 ±(100 x 0.002 + 0.15) = ± 0.35°C

### 3.1.4 절대 정확도(Absolute Accuracy) 
- 실제값과 측정값의 차이
- 예시 : ± 0.2°C

### 3.1.5 상대 정확도(Relative Accuracy)
- 기준값과의 상대적 차이
- 교정된 기준온도 비교 시 ± 0.2°C
</br></br></br>


# 4. 정밀도(Precision)

- <B>같은 입력을 반복 했을 때, 출력값들이 얼마나 일관성있게 모이는지의 척도</B>
- 재현성과 반복성
- 값의 퍼짐 정도

## 4.1 표기 방식
- ±σ (표준편차) : 반복 측정의 값의 퍼짐
  - 정밀도 ±0.2°C
  - CV : 1.5% (표준편차/평균×100)
- Repeatability (r) : 동일 조건 반복 측정 시 오차 범위
  - r = ±0.1%FS
  - 일반적으로 표준편차의 2배로 정의
- Reproceducibility (R) : 다른 조건(시간/장소/사용자) 반복 시 오차 범위
  - R = ±0.3%
</br></br>


# 예제 1
실제 측정한 참값(x,y)가 (2500mm, 2500mm)인 물체가 있다. 이를 임의의 센서를 사용하여 10회 측정한 
값이 다음과 같을 때, 이 센서의 정확도와 정밀도를 구하라.

 [회수/X,Y값]
 - 1 : (2510, 2430)
 - 2 : (2560, 2450)
 - 3 : (2530, 2460)
 - 4 : (2540, 2480)
 - 5 : (2530, 2490)
 - 6 : (2490, 2510)
 - 7 : (2440, 2520)
 - 8 : (2470, 2540)
 - 9 : (2460, 2550)
 - 10 : (2470, 2570)

<details>
 <summary>[정답]</summary></br>
 1) 정확도 : x,y축 각 평균 </br>
 - x축 : (x1+x2+...x10)/10 = 2500 </br>
 - y축 : (y1+y2+...y10)/10 = 2500 </br>
 - 절대 정확도 표기 방법 : x,y : ±0 mm </br></br>
 2) 정밀도 : X,Y축의 표준편차 </br>
 - x축 : sqrt((x1-2500)^2 + .. + (x10-2500^) / 10 ) = 37.683 </br>
 - y축 : sqrt((y1-2500)^2 + .. + (y10-2500^) / 10 ) = 43.589 </br>
 - 표준편차 기준 : ±37.683, ±43.589 </br>
</details>
</br></br></br>


# 5. 불확실도

- 측정값이 참값으로부터 어느 정도 오차 범위 내에 있을 지 정량적으로 추정하는 것.
- 오차의 분포 범위(±0.1°C at 95% confidence level)

## 5.1 계산 방법
    
### 5.1.1 Root Mean Square(RMS) Method
 
- 여러 불확실도 요소들을 합할 떄 사용
- ![image](https://github.com/user-attachments/assets/d9dc4f4e-33e9-4a3a-a7cd-26c09c251ba3)
- 오차 요소들이 <B>서로 독립적</B> 이여야 함

### 5.1.2 (Type A 평가)표준 편차 방법(Standard Deviation Method)
- 반복 측정을 통한 불확실도 산정
- ![image](https://github.com/user-attachments/assets/ff450f8b-5233-44d5-8bff-a02b4503a72c)
- Type A 평가(통계적 분석을 바탕으로 불확실도를 구하는 방법) 에 해당

### 5.1.3 Type B 평가
- 기존의 정보, 문서, 규격, 경험 등을 바탕으로 불확실도를 추정하는 방법
- Datasheet, Calibration Certification, 경험, 측정기 해상도등을 고려
- 예시 : 센서 스펙이 +-1%인 경우, 불확실도 u = a/(sqrt(3)) = 0.577% (균일분포 가정)

### Type A vs B 비교
|구분|TYPE A|TYPE B|
|----|------|------|
|평가 방법|통계적|비통계적|
|사용 도구|평균, 표준편차|최대오차, 분포 가정|
|분포 예시|정규 분포|균일 분포, 정규 분포, 삼각 분포 등|
|불확실도 계산|S/sqrt(n)|a/srqt(3)(균일분포)|

